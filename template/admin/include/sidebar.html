{% load static %}

<div class="col-lg-3 col-xl-2 p-0">
    <div class="sidebar bg-white min-vh-100 border-end shadow-sm">
        
        <!-- Brand Section -->
        <div class="brand-section p-4 border-bottom bg-gradient-light">
            <h4 class="text-primary fw-bold mb-1">
                <i class="bi bi-calendar-event me-2"></i>{{ APP_NAME }}
            </h4>
            <p class="text-muted small mb-0">
                <i class="bi bi-shield-check me-1"></i>Admin Dashboard
            </p>
        </div>

        <!-- Navigation Menu -->
        <div class="menu-section p-3">
            
            <!-- Navigation -->
            <div class="nav-group mb-3">
                <div class="nav-title text-uppercase small fw-semibold text-secondary mb-2">Navigation</div>
                <a href="{% url 'admin_dashboard' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'admin_dashboard' %}active{% endif %}">
                    <i class="bi bi-speedometer2 me-3"></i>
                    <span>Dashboard</span>
                    {% if request.resolver_match.url_name == 'admin_dashboard' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
            </div>

            <!-- User Management -->
            <div class="nav-group mb-3">
                <div class="nav-title text-uppercase small fw-semibold text-secondary mb-2">User Management</div>
                <a href="{% url 'manage_users' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'manage_users' %}active{% endif %}">
                    <i class="bi bi-people me-3"></i>
                    <span>Manage Users</span>
                    {% if request.resolver_match.url_name == 'manage_users' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
                <a href="{% url 'manage_vendors' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'manage_vendors' %}active{% endif %}">
                    <i class="bi bi-shop me-3"></i>
                    <span>Manage Vendors</span>
                    {% if request.resolver_match.url_name == 'manage_vendors' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
            </div>

            <!-- Vendor Management -->
            <div class="nav-group mb-3">
                <div class="nav-title text-uppercase small fw-semibold text-secondary mb-2">Vendor Management</div>
                <a href="{% url 'manage_categories' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'manage_categories' %}active{% endif %}">
                    <i class="bi bi-tags me-3"></i>
                    <span>Categories</span>
                    {% if request.resolver_match.url_name == 'manage_categories' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
                <a href="{% url 'admin_manage_events' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'admin_manage_events' %}active{% endif %}">
                    <i class="bi bi-calendar-week me-3"></i>
                    <span>Events</span>
                    {% if request.resolver_match.url_name == 'admin_manage_events' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
                <a href="{% url 'admin_manage_reviews' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'admin_manage_reviews' %}active{% endif %}">
                    <i class="bi bi-star me-3"></i>
                    <span>Reviews</span>
                    {% if request.resolver_match.url_name == 'admin_manage_reviews' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
            </div>

            <!-- Settings -->
            <div class="nav-group mb-3">
                <div class="nav-title text-uppercase small fw-semibold text-secondary mb-2">Settings</div>
                <a href="{% url 'admin_settings' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'admin_settings' %}active{% endif %}">
                    <i class="bi bi-gear me-3"></i>
                    <span>Settings</span>
                    {% if request.resolver_match.url_name == 'admin_settings' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
                <a href="{% url 'admin_analytics' %}" class="nav-link-custom {% if request.resolver_match.url_name == 'admin_analytics' %}active{% endif %}">
                    <i class="bi bi-bar-chart me-3"></i>
                    <span>Analytics</span>
                    {% if request.resolver_match.url_name == 'admin_analytics' %}
                        <span class="active-indicator"></span>
                    {% endif %}
                </a>
            </div>
        </div>

        <!-- Logout Section -->
        <div class="logout-section p-3 mt-auto border-top">
            <a href="{% url 'logout' %}" class="logout-btn">
                <i class="bi bi-box-arrow-right me-2"></i>
                <span>Logout</span>
            </a>
            <div class="admin-info small text-muted mt-2 text-center">
                <i class="bi bi-shield-lock me-1"></i>Admin Access
            </div>
        </div>
    </div>
</div>

<style>
    .sidebar {
        position: sticky;
        top: 0;
        height: 100vh;
        overflow-y: auto;
        scrollbar-width: thin;
        scrollbar-color: #cbd5e1 #f1f5f9;
        display: flex;
        flex-direction: column;
    }
    
    .sidebar::-webkit-scrollbar {
        width: 5px;
    }
    
    .sidebar::-webkit-scrollbar-track {
        background: #f1f5f9;
    }
    
    .sidebar::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 10px;
    }
    
    .sidebar::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
    }
    
    .bg-gradient-light {
        background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    }
    
    .nav-title {
        padding-left: 0.75rem;
        letter-spacing: 0.3px;
        color: #64748b;
    }
    
    .nav-link-custom {
        display: flex;
        align-items: center;
        padding: 0.75rem 1rem;
        margin-bottom: 0.25rem;
        color: #475569;
        text-decoration: none;
        border-radius: 12px;
        transition: all 0.2s ease;
        font-size: 0.95rem;
        position: relative;
        overflow: hidden;
    }
    
    .nav-link-custom i {
        font-size: 1.2rem;
        width: 1.75rem;
        color: #64748b;
        transition: all 0.2s ease;
    }
    
    .nav-link-custom:hover {
        background-color: #f1f5f9;
        color: #0f172a;
        transform: translateX(3px);
    }
    
    .nav-link-custom:hover i {
        color: #3b82f6;
    }
    
    .nav-link-custom.active {
        background: linear-gradient(135deg, #e8f0fe 0%, #ffffff 100%);
        color: #2563eb;
        font-weight: 500;
        border-left: 4px solid #3b82f6;
        box-shadow: 0 2px 4px rgba(59, 130, 246, 0.1);
    }
    
    .nav-link-custom.active i {
        color: #3b82f6;
    }
    
    .active-indicator {
        position: absolute;
        right: 1rem;
        width: 8px;
        height: 8px;
        background-color: #3b82f6;
        border-radius: 50%;
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
        }
        70% {
            box-shadow: 0 0 0 6px rgba(59, 130, 246, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
        }
    }
    
    .nav-group {
        margin-bottom: 1rem;
    }
    
    .logout-section {
        background-color: #f8fafc;
    }
    
    .logout-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.75rem;
        background-color: #fee2e2;
        color: #dc2626;
        text-decoration: none;
        border-radius: 12px;
        transition: all 0.2s ease;
        font-weight: 500;
    }
    
    .logout-btn:hover {
        background-color: #dc2626;
        color: #ffffff;
        transform: translateY(-1px);
        box-shadow: 0 4px 6px rgba(220, 38, 38, 0.2);
    }
    
    .logout-btn i {
        font-size: 1.2rem;
    }
    
    .admin-info {
        opacity: 0.7;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .sidebar {
            position: relative;
            height: auto;
            min-height: auto;
        }
        
        .nav-link-custom {
            padding: 0.6rem 0.8rem;
        }
        
        .brand-section {
            padding: 1rem;
        }
    }
    
    /* Optional: Add subtle animation on page load */
    .nav-link-custom {
        animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(-10px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    /* Active page indicator */
    .nav-link-custom.active::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        border-radius: 0 4px 4px 0;
    }
</style>