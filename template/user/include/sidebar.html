{% load static %}

<div class="col-lg-3 col-xl-2 p-0">
    <div class="sidebar-container bg-white min-vh-100 border-end">

        <div class="admin-brand p-4 border-bottom">
            <h3 class="text-primary">
                <i class="bi bi-calendar-event me-2"></i>{{ APP_NAME }}
            </h3>
            <p class="text-muted">User Dashboard</p>
        </div>

        <div class="p-3">
            <div class="nav-divider">Navigation</div>

            <a href="{% url 'user:user_dashboard' %}" class="nav-link-custom active">
                <span><i class="bi bi-speedometer2 me-2"></i> Dashboard</span>
            </a>

            <div class="nav-divider mt-4">Account</div>

  <a href="{% url 'user:user_details' %}" 
   class="nav-link-custom {% if request.resolver_match.url_name == 'user_details' %}active{% endif %}">
    <span><i class="bi bi-person"></i>
    My profile</span>
</a>



<!-- Payments Menu -->
<a class="nav-link-custom d-flex justify-content-between align-items-center"
   data-bs-toggle="collapse"
   href="#paymentsMenu"
   role="button"
   aria-expanded="{% if request.resolver_match.url_name in 'user_payments payment_success payment_failed' %}true{% else %}false{% endif %}">
    <span>
        <i class="bi bi-credit-card"></i> Payments
    </span>
    <i class="bi bi-chevron-down small"></i>
</a>

<div class="collapse ps-4
{% if request.resolver_match.url_name in 'user_payments payment_success payment_failed' %}
show
{% endif %}"
id="paymentsMenu">

    <a href="{% url 'user:user_payments' %}"
       class="nav-link-custom small {% if request.resolver_match.url_name == 'user_payments' %}active{% endif %}">
        <span><i class="bi bi-receipt"></i> My Payments</span>
    </a>

    <a href="{% url 'user:payment_success' %}"
       class="nav-link-custom small {% if request.resolver_match.url_name == 'payment_success' %}active{% endif %}">
        <span><i class="bi bi-check-circle"></i> Successful Payments</span>
    </a>

    <a href="{% url 'user:payment_failed' %}"
       class="nav-link-custom small {% if request.resolver_match.url_name == 'payment_failed' %}active{% endif %}">
        <span><i class="bi bi-x-circle"></i> Failed Payments</span>
    </a>


</div>


            <a href="{% url 'user:user_notifications' %}"
   class="nav-link-custom
   {% if request.resolver_match.url_name == 'user_notifications' %}active{% endif %}">
    <span><i class="bi bi-bell"></i> Notifications</span>
</a>

           <a href="{% url 'user:user_events' %}"
   class="nav-link-custom
   {% if request.resolver_match.url_name == 'user_events' %}active{% endif %}">
    <span><i class="bi bi-calendar-week"></i> My Events</span>
</a>
            <div class="nav-divider mt-4">Support</div>

            <a href="{% url 'user:user_reviews' %}"
   class="nav-link-custom
   {% if request.resolver_match.url_name == 'user_reviews' %}active{% endif %}">
    <span><i class="bi bi-chat-left-text"></i> Reviews</span>
</a>

            <div class="nav-divider mt-4">Settings</div>

            <a href="#" class="nav-link-custom">
                <span><i class="bi bi-gear"></i> Settings</span>
            </a>

            <a href="{% url 'logout' %}" class="nav-link-custom logout mt-4">
                <span><i class="bi bi-box-arrow-right me-2"></i>Logout</span>
            </a>
        </div>
    </div>
</div>
